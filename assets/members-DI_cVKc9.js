import{c as g,r as m,j as e}from"./index-CqkVwgxY.js";import{g as h,u as p}from"./index-sk7piHBK.js";import{D as b,M as f}from"./index-CZHRBG02.js";import{P as j}from"./plus-DGPG-xU6.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],y=g("rotate-ccw",v),d={name:"",gender:"",level:1};function N({open:i,onOpenChange:n,member:r,onConfirm:o}){const[s,a]=m.useState(d);m.useEffect(()=>{a(r||d)},[r,i]);const c=()=>{s.name&&s.gender&&(o(s),n(!1))};return e.jsxs(b,{open:i,onOpenChange:n,onConfirm:c,children:[e.jsx("h3",{className:"text-lg font-semibold mb-5 text-center",children:r?"編輯成員":"新增成員"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"姓名"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg text-sm",placeholder:"請輸入姓名",value:s.name,onChange:l=>a({...s,name:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"性別"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg text-sm bg-white",value:s.gender,onChange:l=>a({...s,gender:l.target.value}),children:[e.jsx("option",{value:"",children:"請選擇性別"}),e.jsx("option",{value:"male",children:"男性"}),e.jsx("option",{value:"female",children:"女性"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["等級: ",h(s.level)]}),e.jsx("input",{type:"range",min:"1",max:"18",value:s.level,onChange:l=>a({...s,level:parseInt(l.target.value,10)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]})}function E(){const[i,n]=m.useState(!1),[r,o]=m.useState(null),{members:s,addMember:a,updateMember:c,resetPlayedTimes:l}=p(),x=t=>{o(t),n(!0)},u=t=>{"id"in t?c(t):a(t),n(!1)};return e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["成員名單 (",s.length,"人)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"bg-red-500 cursor-pointer text-white px-3 py-2 rounded-full text-sm font-medium hover:bg-red-600 transition-colors items-center flex",onClick:l,children:[e.jsx(y,{size:16,className:"inline mr-1"}),"清除次數"]}),e.jsxs("button",{className:"bg-indigo-500 cursor-pointer text-white px-3 py-2 rounded-full text-sm font-medium hover:bg-indigo-600 transition-colors items-center flex",onClick:()=>{o(null),n(!0)},children:[e.jsx(j,{size:16,className:"inline mr-1"}),"新增"]})]})]}),e.jsx("div",{className:"text-sm text-gray-700 mb-2",children:e.jsx("div",{children:"*點擊卡片可以允許/禁止成員上場"})}),e.jsx("div",{className:"space-y-2",children:s.map(t=>e.jsx(f,{member:t,onEdit:x},t.id))}),e.jsx(N,{open:i,onOpenChange:n,member:r,onConfirm:u})]})}export{E as component};
