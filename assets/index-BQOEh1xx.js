import{c as P,b as S}from"./index-BLWcDwih.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E=P("trash-2",_),k=t=>{let n;const e=new Set,r=(i,y)=>{const b=typeof i=="function"?i(n):i;if(!Object.is(b,n)){const l=n;n=y??(typeof b!="object"||b===null)?b:Object.assign({},n,b),e.forEach(g=>g(n,l))}},o=()=>n,c={setState:r,getState:o,getInitialState:()=>m,subscribe:i=>(e.add(i),()=>e.delete(i))},m=n=t(r,o,c);return c},j=(t=>t?k(t):k),H=t=>t;function T(t,n=H){const e=S.useSyncExternalStore(t.subscribe,S.useCallback(()=>n(t.getState()),[t,n]),S.useCallback(()=>n(t.getInitialState()),[t,n]));return S.useDebugValue(e),e}const M=t=>{const n=j(t),e=r=>T(n,r);return Object.assign(e,n),e},L=(t=>t?M(t):M);function O(t,n){let e;try{e=t()}catch{return}return{getItem:o=>{var a;const f=m=>m===null?null:JSON.parse(m,void 0),c=(a=e.getItem(o))!=null?a:null;return c instanceof Promise?c.then(f):f(c)},setItem:(o,a)=>e.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>e.removeItem(o)}}const x=t=>n=>{try{const e=t(n);return e instanceof Promise?e:{then(r){return x(r)(e)},catch(r){return this}}}catch(e){return{then(r){return this},catch(r){return x(r)(e)}}}},A=(t,n)=>(e,r,o)=>{let a={storage:O(()=>localStorage),partialize:s=>s,version:0,merge:(s,p)=>({...p,...s}),...n},f=!1;const c=new Set,m=new Set;let i=a.storage;if(!i)return t((...s)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...s)},r,o);const y=()=>{const s=a.partialize({...r()});return i.setItem(a.name,{state:s,version:a.version})},b=o.setState;o.setState=(s,p)=>(b(s,p),y());const l=t((...s)=>(e(...s),y()),r,o);o.getInitialState=()=>l;let g;const w=()=>{var s,p;if(!i)return;f=!1,c.forEach(u=>{var d;return u((d=r())!=null?d:l)});const h=((p=a.onRehydrateStorage)==null?void 0:p.call(a,(s=r())!=null?s:l))||void 0;return x(i.getItem.bind(i))(a.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==a.version){if(a.migrate){const d=a.migrate(u.state,u.version);return d instanceof Promise?d.then(I=>[!0,I]):[!0,d]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var d;const[I,$]=u;if(g=a.merge($,(d=r())!=null?d:l),e(g,!0),I)return y()}).then(()=>{h?.(g,void 0),g=r(),f=!0,m.forEach(u=>u(g))}).catch(u=>{h?.(void 0,u)})};return o.persist={setOptions:s=>{a={...a,...s},s.storage&&(i=s.storage)},clearStorage:()=>{i?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>f,onHydrate:s=>(c.add(s),()=>{c.delete(s)}),onFinishHydration:s=>(m.add(s),()=>{m.delete(s)})},a.skipHydration||w(),g||l},C=A,N=L()(C(t=>({members:[],addMember:n=>t(e=>({members:[...e.members,{id:e.members.length>0?Math.max(...e.members.map(r=>r.id))+1:1,...n,"played-times":0,status:"idle",lastPlayedAt:null}]})),updateMember:n=>t(e=>({members:e.members.map(r=>r.id===n.id?{...r,...n}:r)})),removeMember:n=>t(e=>({members:e.members.filter(r=>r.id!==n)})),incrementPlayedTimes:n=>t(e=>({members:e.members.map(r=>n.includes(r.id)?{...r,"played-times":r["played-times"]+1}:r)})),updateMembersStatus:(n,e)=>t(r=>({members:r.members.map(o=>n.includes(o.id)?{...o,status:e}:o)})),resetPlayedTimes:()=>t(n=>({members:n.members.map(e=>({...e,"played-times":0,lastPlayedAt:null}))})),updateLastPlayedAt:n=>t(e=>({members:e.members.map(r=>n.includes(r.id)?{...r,lastPlayedAt:Date.now()}:r)}))}),{name:"members-storage"})),v=t=>t>=1&&t<=3?"bg-gray-100 text-gray-700":t>=4&&t<=5?"bg-green-100 text-green-700":t===6?"bg-cyan-100 text-cyan-700":t===7?"bg-teal-100 text-teal-700":t>=8&&t<=9?"bg-yellow-100 text-yellow-700":t>=10&&t<=12?"bg-orange-100 text-orange-700":t>=13&&t<=15?"bg-red-100 text-red-700":t>=16&&t<=18?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700",F=t=>t>=1&&t<=3?`新手階 (${t})`:t>=4&&t<=5?`初階 (${t})`:t===6?`初中階(上) (${t})`:t===7?`初中階(下) (${t})`:t>=8&&t<=9?`中階 (${t})`:t>=10&&t<=12?`中進階 (${t})`:t>=13&&t<=15?`高階 (${t})`:t>=16&&t<=18?`職業 (${t})`:`未知 (${t})`,J=t=>t==="female"?"bg-gradient-to-br from-pink-400 to-pink-600":"bg-gradient-to-br from-blue-400 to-blue-600",D=t=>{switch(t){case"playing":return"bg-green-500";case"waiting":return"bg-yellow-500";case"idle":return"bg-gray-400";default:return"bg-gray-400"}},B=t=>{switch(t){case"playing":return"進行中";case"waiting":return"等待中";case"idle":return"空閒";default:return"未知"}};export{E as T,D as a,B as b,J as c,v as d,L as e,F as g,C as p,N as u};
